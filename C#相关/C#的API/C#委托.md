## 委托的含义

委托和类一样，是一种用户定义类型。但类表示的是数据和方法的集合，而委托则持有一个或多个方法，以及一系列预定义操作。可以通过一下操作步骤来使用委托。

（1）声明一个委托类型。委托声明看上去和方法声明相似，只是没有实现。

（2）使用该委托类型声明一个委托变量

（3）创建一个委托类型的对象，并把它赋值给委托变量。新的委托对象包含指向某个方法的引用，这个方法的签名和返回类型必须跟第一步中定义的委托类型一致。

（4）你可以选择为委托对象添加其他方法。这些方法的签名和返回类型必须与第一步中定义的委托类型相同

（5）在代码中你可以像调用方法一样调用委托。在调用委托的时候，其包含的每一个方法都会被执行。



## C#事件和委托的区别

1.事件基于委托，为委托提供了发布、订阅机制。

2.事件是一种特殊的委托，它的调用和委托一样。

事件和委托的区别：

1.事件只能在方法的外部声明，委托在方法外部和内部都可以声明

2.事件只能在方法的内部触发，委托在方法外部和内部都可以触发

3.委托一般用于回调，事件则用于外部接口。例如在观察者模式中可以声明一个事件作为外部观察者注册的接口，同时这个事件只能在**被观察者内部触发**，保证了其安全性



```c#
public delegate void Mydelegate(int j);

    public class delegateSimple

    {

        public Mydelegate dy;

        public delegateSimple()

        {

            dy = mydelegate;

        }

        //存在GC，所以没有必要使用

        ~delegateSimple()

        {

            Console.WriteLine("析构函数调用！");

        }

        public void mydelegate(int j)

        {

            Console.WriteLine(j);

​       }

    }
```





